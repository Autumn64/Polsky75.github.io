<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Виселица!</title>
	<style>table.gridtable {
	font-family: verdana,arial,sans-serif;
	font-size:11px;
	color:#333333;
	border-width: 1px;
	border-color: #666666;
	border-collapse: collapse;
}
table.gridtable th {
	border-width: 1px;
	padding: 8px;
	border-style: solid;
	border-color: #666666;
	background-color: #dedede;
}
table.gridtable td {
	border-width: 1px;
	padding: 8px;
	border-style: solid;
	border-color: #666666;
	background-color: #ffffff;
}</style>
</head>

<body>
    <h1 id="x"></h1>
	<h1 id="y"></h1>
    <h1 id="z"></h1>	
  
	<div id="content"></div>
	
	
	
	
</body>

  <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
	<script>
	
	var now = new Date();
//var formated_date = now.format("yyyy-mm-dd HH:mm");
var aaa1 = [];	
        var a = [
	    ["арбуз","Сам алый, сахарный, \nКафтан зеленый, бархатный."],	
            ["программа", "достижение 20 века"],
            ["мартышка", "У нее были очки"],
            ["оладушек", "Не блинчик :)"],
            ["кошка", "она гуляет сама по себе"],
            ["банан", "В кожуре он золотой,\nВесь изогнутый такой\nПривезён из дальних стран\nМягкий, вкусный фрукт"],
            ["пальма", "Мы с ним добрые друзья – \nЭто дерево и я.\nЯ – кокос красивый, сочный.\nНазовите друга срочно."],
            ["апельсин", "Я - сладкий, рос на юге.\nКак солнышко в листве.\nОранжевый и круглый,\nЯ нравлюсь детворе."],
            ["яблоко", "Покуда были малыми,\nНе падали они,\nА выросли — попадали,\nНе правда ли, смешно?"],
            ["парашют", "Тучек нет на горизонте,\nНо раскрылся в небе зонтик.\nЧерез несколько минут\nОпустился…"],
            ["часы", "Ног нет, а хожу,\nРта нет, а скажу,\nКогда спать, когда вставать,\nКогда работу начинать."],
            ["язык", "Всегда он в работе,\nКогда говорим,\nА отдыхает,\nКогда мы молчим."],
            ["радио", "В Москве говорят, а у нас слышно."],
            ["дятел", "Плотник острым долотом\nСтроит дом с одним окном."],
            ["градусник", "Я подмышкой посижу и что делать укажу:\nИли уложу в кровать, или разрешу гулять."],
            ["еж", "Сердитый недотрога\nЖивет в глуши лесной.\nИголок очень много,\nА нитки не одной."],
            ["тропинка", "Все меня топчут, а я все лучше."],
            ["газета", "Языка не имеет,\nА у кого побывает,\nТот много знает."],
            ["ковер", "Я и дом украшаю,\nЯ и пыль собираю.\nА меня люди топчут ногами,\nДа потом ещё бьют батогами."],
            ["время", "Без ног и без крыльев оно,\nБыстро летит, не догонишь его."],
            ["телефон", "Через поле и лесок подается голосок.\n Он бежит по проводам — Скажешь здесь, а слышно там."],
	    ["свинья","Ходит с визгом,\n Грязь разбрызгав."]		
        ];
	var pick = function(){
	a[Math.floor(Math.random() * a.length)];
	}
        var slovo = pick()
        var a1 = slovo[0];
        var podskazka = slovo[1];
        var b = [];
		
        for (var i = 0; i < a1.length; i++) {
            b[i] = "_ ";
        }
        var c = a1.length;
        var aa = 0
		var XLaa=a1.length + 2
        var aa1 = prompt("Как вас зовут?")
		var aaa=aa1.length
        alert("Привет, " + aa1 + "!\nПодсказка:\n" + podskazka + "\nВ слове " + a1.length + " букв")
        while (c > 0 && aa < a1.length + 2) {
            alert(b.join(""));
            var d = prompt("Угадайте букву, или нажмите Отмена для выхода из игры.")
            if (d === null) {
			var rrr="Вы вышли из игры. До новых встреч!"
			$("#x").text(rrr).css({ 'color': 'red', 'font-size': '16px' });
                break;
            } else if (d.length !== 1 && d.toLowerCase() !== a1) {
                alert("Пожалуйста, введите одиночную букву.");
            } else if (d.toLowerCase() === a1) {
                break;
            } else {
                for (var j = 0; j < a1.length; j++) {
                    if (a1[j] === d.toLowerCase() && b[j] === "_ ") {
                        b[j] = d.toLowerCase();
                        c--;
                    }
                }
                aa++;
            }
        }
        var str = b.join('');
        if (str.toLowerCase() !== a1.toLowerCase() && d.toLowerCase() !== a1.toLowerCase()) {
         var rr= "К сожалению,вы проиграли. Попрбуйте ещё раз. Было загадано слово "+ a1+". "
		 	$("#x").text(rr).css({ 'color': 'red', 'font-size': '16px' });
			aaa1.push({"Дата":now.toLocaleString(),"Имя":aa1,"Очки":0});
        } else {
		var o=XLaa-aa;
		var r = "Поздравляю с победой, " + aa1 + "!Было загадано слово " + a1+". Вы набрали "+o+" очков!"
        var cat="=^.^="
		$("#x").text(r).css({ 'color': 'red', 'font-size': '16px' });
		if (aaa===5){;
		aaa1.push({"Дата":now.toLocaleString(),"Имя":aa1,"Очки":o});
		$("#y").text(cat).css({ 'color': 'orange', 'font-size': '20px' });
		}else{
		aaa1.push({"Дата":now.toLocaleString(),"Имя":aa1,"Очки":o});
		$("#y").text("   ").css({ 'color': 'orange', 'font-size': '20px' });
        }
	}
	
	function buildTable(data) {
    var table = document.createElement("table");
    table.className="gridtable";
    var thead = document.createElement("thead");
    var tbody = document.createElement("tbody");
    var headRow = document.createElement("tr");
    ["Дата","Имя","Очки"].forEach(function(el) {
      var th=document.createElement("th");
      th.appendChild(document.createTextNode(el));
      headRow.appendChild(th);
    });
    thead.appendChild(headRow);
    table.appendChild(thead); 
    data.forEach(function(el) {
      var tr = document.createElement("tr");
      for (var o in el) {  
        var td = document.createElement("td");
        td.appendChild(document.createTextNode(el[o]))
        tr.appendChild(td);
      }
      tbody.appendChild(tr);  
    });
    table.appendChild(tbody);             
    return table;
}
//java.io.File f = new java.io.File(aaa1)	
	
		document.getElementById("content").appendChild(buildTable(aaa1));
	
	</script>
	
</html>
